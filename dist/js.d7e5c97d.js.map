{"version":3,"sources":["../src/dom-utils/prefixer.js","../src/constants/paper.js","../src/constants/modes.js","../src/constants/layout.js","../src/constants/marks.js","../src/dom-utils/classes.js","../src/dom-utils/createEl.js","../src/dom-utils/safeMeasure.js","../src/dom-utils/index.js","../src/css-length/index.js","../src/page-setup/defaultPageSetup.js","../src/page-setup/PageSetup.js","../src/rules/Rule.js","../src/option-checker/validate.js","../src/option-checker/types.js","../src/rules/Counter.js","../src/rules/OutOfFlow.js","../src/rules/FullBleedSpread.js","../src/rules/FullBleedPage.js","../src/rules/Replace.js","../src/rules/Footnote.js","../src/rules/searchPages.js","../src/utils/shallowEqual.js","../src/utils/throttle.js","../src/rules/PageReference.js","../src/rules/PageBreak.js","../src/rules/RunningHeader.js","../src/rules/Split.js","../src/rules/index.js","../src/defaults/attributeRules.js","../node_modules/regionize/dist/regionize.esm.js","../src/book/Page.js","../src/book/orderPages.js","../src/book/Book.js","../src/book/annotatePages.js","../src/makeBook/dedupeRules.js","../src/makeBook/recoverFromRule.js","../src/makeBook/RuleSet.js","../src/makeBook/estimateProgress.js","../src/makeBook/makeBook.js","../src/controls/dom.js","../src/controls/components.js","../src/controls/index.js","../src/layouts/padPages.js","../src/layouts/gridLayout.js","../src/layouts/printMarks.js","../src/layouts/orderPagesBooklet.js","../src/layouts/printLayout.js","../src/layouts/flipLayout.js","../src/viewer/error.js","../src/viewer/listenForPrint.js","../src/viewer/Viewer.js","../src/bindery.js","../src/index.js","public/js/index.js"],"names":["prefix","Mode.PREVIEW","Mode.PRINT","Mode.FLIPBOOK","c","doc","Paper.AUTO","Paper.AUTO_MARKS","Layout.PAGES","Paper.AUTO_BLEED","Paper.LETTER_LANDSCAPE","Paper.LETTER_PORTRAIT","Paper.A4_PORTRAIT","Paper.A4_LANDSCAPE","PageBreak","PageReference","Footnote","FullBleedPage","FullBleedSpread","isFunc","div","supportsCustomPageSize","twoPageSpread","onePageSpread","Layout.SPREADS","Layout.BOOKLET","document","Marks.CROP","Marks.BOTH","Marks.BLEED","gridLayout","flipLayout","printLayout","rAF","defaultRules","breakRule","Bindery","selector","position","spreadRule","makeBook","content","rules"],"mappings":"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","file":"js.d7e5c97d.js","sourceRoot":"..","sourcesContent":["//\n// prefix classes\nconst p = '-';\n\nconst prefix = str => `${p}${str}`;\nconst prefixClass = str => `.${prefix(str)}`;\n\nconst prefixer = (str) => {\n  if (str[0] === '.') {\n    return prefixClass(str.substr(1));\n  }\n  return prefix(str);\n};\n\nexport default prefixer;\n","const AUTO = 1;\nconst AUTO_BLEED = 2;\nconst AUTO_MARKS = 3;\nconst LETTER_PORTRAIT = 4;\nconst LETTER_LANDSCAPE = 5;\nconst A4_PORTRAIT = 6;\nconst A4_LANDSCAPE = 7;\n\nexport {\n  AUTO,\n  AUTO_BLEED,\n  AUTO_MARKS,\n  LETTER_PORTRAIT,\n  LETTER_LANDSCAPE,\n  A4_PORTRAIT,\n  A4_LANDSCAPE,\n};\n","const FLIPBOOK = 1;\nconst PREVIEW = 2;\nconst PRINT = 3;\n\nexport { FLIPBOOK, PREVIEW, PRINT };\n","const PAGES = 1;\nconst SPREADS = 2;\nconst BOOKLET = 3;\n\nexport { PAGES, BOOKLET, SPREADS };\n","const NONE = 1;\nconst CROP = 2;\nconst BLEED = 3;\nconst BOTH = 4;\n\nexport { NONE, CROP, BLEED, BOTH };\n","import prefix from './prefixer';\nimport { Mode } from '../constants';\n\nconst classes = {\n  showBleed: 'show-bleed',\n  showCrop: 'show-crop',\n  showBleedMarks: 'show-bleed-marks',\n\n  isViewing: 'viewing',\n  viewPreview: 'view-preview',\n  viewPrint: 'view-print',\n  viewFlip: 'view-flip',\n  inProgress: 'in-progress',\n\n  leftPage: 'left',\n  rightPage: 'right',\n  isOverflowing: 'is-overflowing',\n\n  printSheet: 'print-sheet',\n  sheetSpread: 'print-sheet-spread',\n  sheetLeft: 'print-sheet-left',\n  sheetRight: 'print-sheet-right',\n\n  toNext: 'continues',\n  fromPrev: 'continuation',\n};\n\nObject.keys(classes).forEach((k) => {\n  const val = classes[k];\n  classes[k] = prefix(val);\n});\n\nclasses.allModes = [classes.viewPreview, classes.viewPrint, classes.viewFlip];\nclasses[Mode.PREVIEW] = classes.viewPreview;\nclasses[Mode.PRINT] = classes.viewPrint;\nclasses[Mode.FLIPBOOK] = classes.viewFlip;\n\nexport default classes;\n","import prefixer from './prefixer';\n\nconst doc = window.document;\n// Create div with prefixed classes\nconst createEl = (className, content = []) => {\n  const div = doc.createElement('div');\n  div.className = className.split('.').filter((txt) => txt !== '').map(prefixer).join(' ');\n\n  if (typeof content === 'string') {\n    div.textContent = content;\n  } else if (Array.isArray(content)) {\n    content.forEach((child) => div.appendChild(child));\n  }\n  return div;\n};\n\nexport default createEl;\n","import c from './prefixer';\nimport createEl from './createEl';\n\nconst safeMeasure = (el, measure) => {\n  if (el.parentNode) return measure();\n  let measureArea = document.querySelector(c('.measure-area'));\n  if (!measureArea) measureArea = document.body.appendChild(createEl('measure-area'));\n  if (measureArea.firstElementChild !== el) {\n    measureArea.innerHTML = '';\n    measureArea.appendChild(el);\n  }\n  const result = measure();\n  return result;\n};\n\nexport default safeMeasure;\n","import classes from './classes';\nimport prefixer from './prefixer';\nimport safeMeasure from './safeMeasure';\nimport createEl from './createEl';\n\nconst doc = window.document;\n\n// Create stylesheet with id\nconst addStylesheet = (id) => {\n  const style = doc.createElement('style');\n  style.id = id;\n  doc.head.appendChild(style);\n  return style;\n};\n\n// Fetch or create stylesheet with id\nconst stylesheet = id => doc.querySelector(`#${id}`) || addStylesheet(id);\n\n// Parse html from text\nconst parseHTML = (text, selector) => {\n  const wrapper = doc.createElement('div');\n  wrapper.innerHTML = text;\n  return wrapper.querySelector(selector);\n};\n\nconst c = prefixer;\nexport { c, classes, createEl, stylesheet, safeMeasure, parseHTML };\n","const cssNumberRegEx = /^([+-]?[0-9]+(.?[0-9]+)?)(px|in|cm|mm|pt|pc)$/;\n\nconst isLength = str => cssNumberRegEx.test(str);\n\nconst parseLength = (str) => {\n  if (!isLength(str)) throw Error(`Cannot parse css length from \"${str}\"`);\n\n  const matches = str.match(cssNumberRegEx);\n  return {\n    val: Number(matches[1]),\n    unit: matches[3],\n  };\n};\n\nexport { parseLength, isLength };\n","export default {\n  bleed: '12pt',\n  size: { width: '4in', height: '6in' },\n  margin: {\n    inner: '24pt',\n    outer: '24pt',\n    bottom: '40pt',\n    top: '48pt',\n  },\n};\n","import { stylesheet } from '../dom-utils';\nimport { parseLength } from '../css-length';\n\nimport defaultPageSetup from './defaultPageSetup';\nimport { Paper, Layout } from '../constants';\n\nconst letter = Object.freeze({ width: '8.5in', height: '11in' });\nconst a4 = Object.freeze({ width: '210mm', height: '297mm' });\n\nconst supportsCustomPageSize = !!window.chrome;\n\nclass PageSetup {\n  constructor(opts = {}, printOpts = {}) {\n    this.size = opts.size || defaultPageSetup.size;\n    this.margin = opts.margin || defaultPageSetup.margin;\n    this.markLength = '12pt';\n\n    this.paper = supportsCustomPageSize ? (printOpts.paper || Paper.AUTO) : Paper.AUTO_MARKS;\n    this.bleed = printOpts.bleed || defaultPageSetup.bleed;\n    this.printTwoUp = printOpts.layout && printOpts.layout !== Layout.PAGES;\n  }\n\n  get displaySize() {\n    const width = this.printTwoUp ? this.spreadSize.width : this.size.width;\n    const height = this.size.height;\n    const bleed = this.bleed;\n\n    return { width, height, bleed };\n  }\n\n  get sheetSize() {\n    const width = this.printTwoUp ? this.spreadSize.width : this.size.width;\n    const height = this.size.height;\n\n    const doubleBleed = `2 * ${this.bleed}`;\n    const doubleMarks = `${doubleBleed} + 2 * ${this.markLength}`;\n    const singleMarks = `${this.bleed} + ${this.markLength}`;\n    switch (this.paper) {\n    case Paper.AUTO:\n      return { width, height };\n    case Paper.AUTO_BLEED:\n      return {\n        width: `calc(${width} + ${this.printTwoUp ? doubleBleed : this.bleed})`,\n        height: `calc(${height} + ${doubleBleed})`,\n      };\n    case Paper.AUTO_MARKS:\n      return {\n        width: `calc(${width} + ${this.printTwoUp ? doubleMarks : singleMarks})`,\n        height: `calc(${height} + ${doubleMarks})`,\n      };\n    case Paper.LETTER_LANDSCAPE:\n      return { width: letter.height, height: letter.width };\n    case Paper.LETTER_PORTRAIT:\n      return letter;\n    case Paper.A4_PORTRAIT:\n      return a4;\n    case Paper.A4_LANDSCAPE:\n      return { width: a4.height, height: a4.width };\n    default:\n    }\n    return { width, height };\n  }\n\n  get spreadSize() {\n    const w = parseLength(this.size.width);\n    return {\n      height: this.size.height,\n      width: `${w.val * 2}${w.unit}`,\n    };\n  }\n\n  updateStyleVars() {\n    const page = this.size;\n    const sheet = this.sheetSize;\n    const vars = {\n      'spread-width': this.spreadSize.width,\n      'page-width': page.width,\n      'page-height': page.height,\n      'sheet-width': sheet.width,\n      'sheet-height': sheet.height,\n      'margin-inner': this.margin.inner,\n      'margin-outer': this.margin.outer,\n      'margin-top': this.margin.top,\n      'margin-bottom': this.margin.bottom,\n      bleed: this.bleed,\n      'mark-length': this.markLength,\n    };\n    const str = Object.keys(vars).map(k => `--bindery-${k}: ${vars[k]};`).join('');\n\n    const rootRule = `:root { ${str} }`;\n    const pageRule = `@page { size: ${sheet.width} ${sheet.height}; }`;\n\n    stylesheet('binderyPage').innerHTML = `${rootRule} ${pageRule}`;\n  }\n}\n\nexport default PageSetup;\n","export default class Rule {\n  constructor(options) {\n    this.name = options.name ? options.name : 'Unnamed Bindery Rule';\n    this.selector = '';\n\n    Object.keys(options).forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n}\n","const validate = (opts, validOpts) => {\n  if (!validOpts) throw Error('Valid options not specified');\n\n  Object.keys(opts).forEach((k) => {\n    if (!validOpts[k]) {\n      const setName = validOpts.name ? `'${validOpts.name}'` : 'This option';\n      throw Error(`Unknown option in ${setName}: '${k}'`);\n    }\n    const val = opts[k];\n    const type = validOpts[k];\n    if (!type.check(val)) {\n      const optName = validOpts.name ? `${validOpts.name}.${k}` : k;\n      throw Error(`Invalid value for '${optName}': ${JSON.stringify(val)} is not a ${type.name}.`);\n    }\n  });\n  return true;\n};\n\nexport default validate;\n","import { isLength } from '../css-length';\nimport validate from './validate';\n\nconst isObj = val => typeof val === 'object';\nconst isFunc = val => typeof val === 'function';\nconst isBool = val => typeof val === 'boolean';\nconst isStr = val => typeof val === 'string';\nconst isNum = val => typeof val === 'number';\nconst isArr = val => Array.isArray(val);\n\nconst hasProp = (obj, k) => Object.prototype.hasOwnProperty.call(obj, k);\n\nconst hasSameKeys = (opts, required) => {\n  const keys = Object.keys(required).filter(k => k !== 'name');\n  return !keys.some(k => !hasProp(opts, k));\n};\n\nconst isShape = template => input => isObj(input) && validate(input, template);\n\nconst isShapeExact = template => input => isObj(input)\n  && hasSameKeys(input, template)\n  && validate(input, template);\n\nconst isEnum = cases => str => cases.includes(str);\n\nconst T = {\n  any: {\n    name: 'any',\n    check: () => true,\n  },\n  enum(...cases) {\n    return {\n      name: `(${cases.map(c => `\"${c}\"`).join(' | ')})`,\n      check: isEnum(cases),\n    };\n  },\n  shapeExact: template => ({\n    name: `exactly ({${Object.keys(template).join(', ')}})`,\n    check: isShapeExact(template),\n  }),\n  shape: template => ({\n    name: `shape ({${Object.keys(template).join(', ')}})`,\n    check: isShape(template),\n  }),\n  string: {\n    name: 'string',\n    check: isStr,\n  },\n  length: {\n    name: 'length (string with absolute units)',\n    check: isLength,\n  },\n  number: {\n    name: 'number',\n    check: isNum,\n  },\n  bool: {\n    name: 'bool',\n    check: isBool,\n  },\n  func: {\n    name: 'func',\n    check: isFunc,\n  },\n  obj: {\n    name: 'object',\n    check: isObj,\n  },\n  array: {\n    name: 'array',\n    check: isArr,\n  },\n};\n\nT.margin = {\n  name: 'margin ({ top, inner, outer, bottom })',\n  check: isShapeExact({\n    name: 'margin',\n    top: T.length,\n    inner: T.length,\n    outer: T.length,\n    bottom: T.length,\n  }),\n};\n\nT.size = {\n  name: 'size ({ width, height })',\n  check: isShapeExact({\n    name: 'size',\n    width: T.length,\n    height: T.length,\n  }),\n};\n\nexport default T;\n","import Rule from './Rule';\nimport { validate, T } from '../option-checker';\n\n\nclass Counter extends Rule {\n  constructor(options) {\n    super(options);\n    this.selector = '*';\n    this.counterValue = 0;\n    validate(options, {\n      name: 'Counter',\n      replaceEl: T.string,\n      resetEl: T.string,\n      incrementEl: T.string,\n      replace: T.func,\n    });\n  }\n  setup() {\n    this.counterValue = 0;\n  }\n  beforeAdd(el) {\n    if (el.matches(this.incrementEl)) this.counterValue += 1;\n    if (el.matches(this.resetEl)) this.counterValue = 0;\n    if (el.matches(this.replaceEl)) return this.createReplacement(el);\n    return el;\n  }\n  createReplacement(element) {\n    return this.replace(element, this.counterValue);\n  }\n  replace(element, counterValue) {\n    element.textContent = counterValue;\n    return element;\n  }\n}\n\nexport default Counter;\n","import Rule from './Rule';\n\nclass OutOfFlow extends Rule {\n  constructor(options) {\n    super(options);\n    this.name = 'Out of Flow';\n  }\n  beforeAdd(elmt) {\n    // Avoid breaking inside this element. Once it's completely added,\n    // it will moved onto the background layer.\n\n    elmt.setAttribute('data-ignore-overflow', true);\n    return elmt;\n  }\n  afterAdd(elmt, book, continueOnNewPage, makeNewPage) {\n    this.createOutOfFlowPages(elmt, book, makeNewPage);\n\n    // Catches cases when we didn't need to create a new page. but unclear\n    if (this.continue !== 'same' || book.currentPage.hasOutOfFlowContent) {\n      continueOnNewPage(true);\n      if (this.continue === 'left' || this.continue === 'right') {\n        book.currentPage.setPreference(this.continue);\n      }\n    }\n\n    return elmt;\n  }\n}\n\nexport default OutOfFlow;\n","import OutOfFlow from './OutOfFlow';\nimport { validate, T } from '../option-checker';\nimport { c, createEl } from '../dom-utils';\n\n// Options:\n// selector: String\n\nclass FullBleedSpread extends OutOfFlow {\n  constructor(options) {\n    options.continue = options.continue || 'same';\n    options.rotate = options.rotate || 'none';\n    super(options);\n    validate(options, {\n      name: 'FullBleedSpread',\n      selector: T.string,\n      continue: T.enum('next', 'same', 'left', 'right'),\n      rotate: T.enum('none', 'clockwise', 'counterclockwise'),\n    });\n  }\n  createOutOfFlowPages(elmt, book, makeNewPage) {\n    elmt.parentNode.removeChild(elmt);\n\n    let leftPage;\n    if (book.currentPage.isEmpty) {\n      leftPage = book.currentPage;\n    } else {\n      leftPage = makeNewPage();\n      book.addPage(leftPage);\n    }\n\n    const rightPage = makeNewPage();\n    book.addPage(rightPage);\n\n    if (this.rotate !== 'none') {\n      [leftPage, rightPage].forEach((page) => {\n        const rotateContainer = createEl(`.rotate-container.spread-size-rotated.rotate-spread-${this.rotate}`);\n        rotateContainer.appendChild(page.background);\n        page.element.appendChild(rotateContainer);\n      });\n    }\n\n    leftPage.background.appendChild(elmt);\n    leftPage.element.classList.add(c('spread'));\n    leftPage.setPreference('left');\n    leftPage.isOutOfFlow = this.continue === 'same';\n    leftPage.avoidReorder = true;\n    leftPage.hasOutOfFlowContent = true;\n\n    rightPage.background.appendChild(elmt.cloneNode(true));\n    rightPage.element.classList.add(c('spread'));\n    rightPage.setPreference('right');\n    rightPage.isOutOfFlow = this.continue === 'same';\n    rightPage.avoidReorder = true;\n    rightPage.hasOutOfFlowContent = true;\n  }\n}\n\nexport default FullBleedSpread;\n","import OutOfFlow from './OutOfFlow';\nimport { validate, T } from '../option-checker';\nimport { createEl } from '../dom-utils';\n\n// Options:\n// selector: String\n\nclass FullBleedPage extends OutOfFlow {\n  constructor(options) {\n    options.continue = options.continue || 'same';\n    options.rotate = options.rotate || 'none';\n    super(options);\n    validate(options, {\n      name: 'FullBleedPage',\n      selector: T.string,\n      continue: T.enum('next', 'same', 'left', 'right'),\n      rotate: T.enum('none', 'inward', 'outward', 'clockwise', 'counterclockwise'),\n    });\n  }\n\n  createOutOfFlowPages(elmt, book, makeNewPage) {\n    elmt.parentNode.removeChild(elmt);\n\n    let newPage;\n    if (book.currentPage.isEmpty) {\n      newPage = book.currentPage;\n    } else {\n      newPage = makeNewPage();\n      book.addPage(newPage);\n    }\n    if (this.rotate !== 'none') {\n      const rotateContainer = createEl(`.rotate-container.page-size-rotated.rotate-${this.rotate}`);\n      rotateContainer.appendChild(newPage.background);\n      newPage.element.appendChild(rotateContainer);\n    }\n    newPage.background.appendChild(elmt);\n    newPage.hasOutOfFlowContent = true;\n  }\n}\n\nexport default FullBleedPage;\n","import Rule from './Rule';\n\n// Options:\n// selector: String\n// replace: function (HTMLElement) => HTMLElement\n\nclass Replace extends Rule {\n  constructor(options) {\n    super(options);\n    this.name = 'Replace';\n  }\n  afterAdd(element, book, continueOnNewPage, makeNewPage, overflowCallback) {\n    const parent = element.parentNode;\n    if (!parent) {\n      console.error(element);\n      throw Error(`Bindery.Replace({ selector: '${this.selector}' }).afterAdd called on element that hasn't been added.`);\n    }\n    const defensiveClone = element.cloneNode(true);\n    const replacement = this.createReplacement(book, defensiveClone);\n    parent.replaceChild(replacement, element);\n\n    if (book.currentPage.hasOverflowed()) {\n      parent.replaceChild(element, replacement);\n\n      return overflowCallback(element);\n    }\n\n    return replacement;\n  }\n  createReplacement(book, element) {\n    return this.replace(element);\n  }\n  replace(element) {\n    element.insertAdjacentHTML('beforeEnd', '<sup class=\"bindery-sup\">Default Replacement</sup>');\n    return element;\n  }\n}\n\nexport default Replace;\n","import Replace from './Replace';\nimport { validate, T } from '../option-checker';\nimport { createEl } from '../dom-utils';\n\n// Options:\n// selector: String\n// replace: function (HTMLElement, number) => HTMLElement\n// render: function (Page) => HTMLElement\n\nclass Footnote extends Replace {\n  constructor(options) {\n    super(options);\n    validate(options, {\n      name: 'Footnote',\n      selector: T.string,\n      replace: T.func,\n      render: T.func,\n    });\n  }\n  afterAdd(element, book, continueOnNewPage, makeNewPage, overflowCallback) {\n    const number = book.currentPage.footer.children.length + 1;\n\n    const footnote = createEl('.footnote');\n    const contents = this.render(element, number);\n    if (contents instanceof HTMLElement) footnote.appendChild(contents);\n    else footnote.innerHTML = contents;\n\n    book.currentPage.footer.appendChild(footnote);\n\n    return super.afterAdd(element, book, continueOnNewPage, makeNewPage, (overflowEl) => {\n      book.currentPage.footer.removeChild(footnote);\n      return overflowCallback(overflowEl);\n    });\n  }\n  createReplacement(book, element) {\n    const number = book.currentPage.footer.children.length;\n    return this.replace(element, number);\n  }\n  replace(element, number) {\n    element.insertAdjacentHTML('beforeEnd', `<sup class=\"bindery-sup\">${number}</sup>`);\n    return element;\n  }\n  render(element, number) {\n    return `<sup>${number}</sup> Default footnote (<a href='/bindery/docs/#footnote'>Learn how to change it</a>)`;\n  }\n}\n\nexport default Footnote;\n","const pageNumbersForTest = (pages, test) =>\n  pages.filter(pg => pg.number && test(pg.element)).map(pg => pg.number);\n\nconst pageNumbersForSelector = (pages, sel) =>\n  pageNumbersForTest(pages, el => el.querySelector(sel));\n\nconst formatAsRanges = (pageNumbers) => {\n  let str = '';\n  let prevNum = pageNumbers[0];\n  let isInARange = false;\n\n  const addFirst = (num) => {\n    str += `${num}`;\n  };\n  const continueRange = () => {\n    isInARange = true;\n  };\n  const endRange = (endNum) => {\n    isInARange = false;\n    str += `${endNum}`;\n  };\n  const addComma = (num) => {\n    str += `, ${num}`;\n  };\n  const endAndAdd = (endNum, num) => {\n    endRange(endNum);\n    addComma(num);\n  };\n  const addLast = (num, isAdjacent) => {\n    if (isAdjacent) endRange(num);\n    else if (isInARange && !isAdjacent) endAndAdd(prevNum, num);\n    else addComma(num);\n  };\n\n  pageNumbers.forEach((num, i) => {\n    const isLast = i === pageNumbers.length - 1;\n    const isAdjacent = num === prevNum + 1;\n\n    if (i === 0) addFirst(num);\n    else if (isLast) addLast(num, isAdjacent);\n    else if (isAdjacent) continueRange();\n    else if (isInARange && !isAdjacent) endAndAdd(prevNum, num);\n    else addComma(num);\n    prevNum = num;\n  });\n  return str;\n};\n\nexport { pageNumbersForTest, pageNumbersForSelector, formatAsRanges };\n","// https://github.com/moroshko/shallow-equal/blob/master/src/arrays.js\nconst shallowEqual = (a, b) => {\n  if (a === b) return true;\n  if (!a || !b) return false;\n\n  const len = a.length;\n\n  if (b.length !== len) {\n    return false;\n  }\n\n  for (let i = 0; i < len; i += 1) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n};\n\nexport default shallowEqual;\n","const throttleFrame = () => {\n  let wasCalled = false;\n  let queued;\n  const inner = (func) => {\n    if (wasCalled) {\n      queued = func;\n      return;\n    }\n    wasCalled = true;\n    func();\n    requestAnimationFrame(() => {\n      wasCalled = false;\n      if (queued) {\n        const queuedFunc = queued;\n        queued = null;\n        inner(queuedFunc);\n      }\n    });\n  };\n  return inner;\n};\n\nconst throttleTime = (time) => {\n  let wasCalled = false;\n  let queued;\n  const inner = (func) => {\n    if (wasCalled) {\n      queued = func;\n      return;\n    }\n    wasCalled = true;\n    func();\n    setTimeout(() => {\n      wasCalled = false;\n      if (queued) {\n        const queuedFunc = queued;\n        queued = null;\n        inner(queuedFunc);\n      }\n    }, time);\n  };\n  return inner;\n};\n\n\nexport { throttleFrame, throttleTime };\n","import Replace from './Replace';\nimport { pageNumbersForTest, formatAsRanges } from './searchPages';\n\nimport { shallowEqual, throttleTime } from '../utils';\nimport { validate, T } from '../option-checker';\nimport { c } from '../dom-utils';\n\n// Compatible with ids that start with numbers\nconst startsNum = sel => sel.length > 2 && sel[0] === '#' && /^\\d+$/.test(sel[1]);\nconst safeIDSel = sel => (startsNum(sel) ? `[id=\"${sel.replace('#', '')}\"]` : sel);\n\n// Options:\n// selector: String\n// replace: function (HTMLElement, number) => HTMLElement\nclass PageReference extends Replace {\n  constructor(options) {\n    super(options);\n    validate(options, {\n      name: 'PageReference',\n      selector: T.string,\n      replace: T.func,\n      createTest: T.func,\n    });\n    this.references = [];\n    const throttle = throttleTime(10);\n    this.throttledUpdate = (book) => {\n      throttle(() => this.updatePageReferences(book.pages));\n    };\n  }\n\n  eachPage(page, book) {\n    this.throttledUpdate(book);\n  }\n\n  afterAdd(elmt, book) {\n    const test = this.createTest(elmt);\n    if (!test) return elmt;\n\n    const ref = this.createReference(book, test, elmt);\n    return ref.element;\n  }\n\n  createReference(book, test, elmt) {\n    const ref = { test, template: elmt, element: elmt, value: null };\n    const render = newValue => this.render(ref, newValue);\n    ref.render = render;\n    this.references.push(ref);\n    const currentResults = pageNumbersForTest(book.pages, test);\n\n    ref.render(currentResults); // Replace element immediately, to make sure it'll fit\n    return ref;\n  }\n\n  render(ref, newValue) {\n    if (!newValue || shallowEqual(ref.value, newValue)) return;\n    if (!Array.isArray(newValue)) throw Error('Page search returned unexpected result');\n\n    const isResolved = newValue.length > 0;\n    const pageRanges = isResolved ? formatAsRanges(newValue) : '';\n\n    const template = ref.template.cloneNode(true);\n    const newRender = this.replace(template, pageRanges);\n    if (!isResolved) newRender.classList.add(c('placeholder-num'));\n    ref.element.parentNode.replaceChild(newRender, ref.element);\n\n    ref.element = newRender;\n    ref.value = newValue;\n  }\n\n  createTest(element) {\n    const href = element.getAttribute('href');\n    if (!href) return null;\n    const selector = safeIDSel(href);\n    return el => el.querySelector(selector);\n  }\n\n  updatePageReferences(pages) {\n    // querySelector first, then rerender\n    const results = this.references.map(ref =>\n      ({ ref, data: pageNumbersForTest(pages, ref.test) }));\n    results.forEach(({ ref, data }) => this.render(ref, data));\n  }\n\n  replace(template, number) {\n    template.insertAdjacentHTML('beforeend', `, <span>${number}</span>`);\n    return template;\n  }\n}\n\nexport default PageReference;\n","import Rule from './Rule';\nimport { validate, T } from '../option-checker';\n\nclass PageBreak extends Rule {\n  constructor(options) {\n    options.position = options.position || 'before';\n    options.continue = options.continue || 'next';\n    super(options);\n\n    validate(options, {\n      name: 'PageBreak',\n      selector: T.string,\n      continue: T.enum('next', 'left', 'right'),\n      position: T.enum('before', 'after', 'both', 'avoid'),\n    });\n  }\n  get avoidSplit() {\n    return this.position === 'avoid';\n  }\n  beforeAdd(elmt, book, continueOnNewPage) {\n    if (this.position === 'before' || this.position === 'both') {\n      if (!book.currentPage.isEmpty) {\n        continueOnNewPage();\n      }\n      if (this.continue !== 'next') {\n        book.currentPage.setPreference(this.continue);\n      }\n    }\n    return elmt;\n  }\n  afterAdd(elmt, book, continueOnNewPage) {\n    if (this.position === 'after' || this.position === 'both') {\n      const newPage = continueOnNewPage(true);\n      if (this.continue !== 'next') {\n        newPage.setPreference(this.continue);\n      }\n    }\n    return elmt;\n  }\n}\n\nexport default PageBreak;\n","import Rule from './Rule';\nimport { validate, T } from '../option-checker';\nimport { createEl } from '../dom-utils';\n\n// Options:\n// selector: String\n// render: function (Page) => HTMLElement\n// TODO selectorHierarchy: [ String ], ie [ 'h1', 'h2', 'h3.chapter' ]\n\nclass RunningHeader extends Rule {\n  constructor(options = {}) {\n    super(options);\n    validate(options, {\n      name: 'RunningHeader',\n      render: T.func,\n    });\n  }\n  eachPage(page) {\n    if (!page.runningHeader) {\n      const elmt = createEl('.running-header');\n      page.element.appendChild(elmt);\n      page.runningHeader = elmt;\n    }\n    page.runningHeader.innerHTML = this.render(page);\n  }\n  render(page) {\n    return page.number;\n  }\n}\n\nexport default RunningHeader;\n","import Rule from './Rule';\nimport { validate, T } from '../option-checker';\n\nclass Split extends Rule {\n  constructor(options) {\n    super(options);\n\n    validate(options, {\n      name: 'Split',\n      selector: T.string,\n      toNext: T.string,\n      fromPrevious: T.string,\n      didSplit: T.func,\n    });\n  }\n\n  didSplit(original, clone) {\n    if (this.toNext) original.classList.add(this.toNext);\n    if (this.fromPrevious) clone.classList.add(this.fromPrevious);\n  }\n}\n\nexport default Split;\n","import Counter from './Counter';\nimport FullBleedSpread from './FullBleedSpread';\nimport FullBleedPage from './FullBleedPage';\nimport Footnote from './Footnote';\nimport PageReference from './PageReference';\nimport PageBreak from './PageBreak';\nimport RunningHeader from './RunningHeader';\nimport Replace from './Replace';\nimport Rule from './Rule';\nimport Split from './Split';\n\nexport default {\n  Rule,\n  Split(options) {\n    return new Split(options);\n  },\n  Counter(options) {\n    return new Counter(options);\n  },\n  FullBleedPage(options) {\n    return new FullBleedPage(options);\n  },\n  Footnote(options) {\n    return new Footnote(options);\n  },\n  RunningHeader(options) {\n    return new RunningHeader(options);\n  },\n  Replace(options) {\n    return new Replace(options);\n  },\n  FullBleedSpread(options) {\n    return new FullBleedSpread(options);\n  },\n  PageBreak(options) {\n    return new PageBreak(options);\n  },\n  PageReference(options) {\n    return new PageReference(options);\n  },\n  createRule(options) {\n    return new Rule(options);\n  },\n};\n","import rules from '../rules';\n\nconst {\n  PageBreak,\n  PageReference,\n  Footnote,\n  FullBleedPage,\n  FullBleedSpread,\n} = rules;\n\nconst replacer = (element, number) => {\n  element.textContent = `${number}`;\n  return element;\n};\n\nexport default [\n  PageBreak({ selector: '[book-page-break=\"both\"]', position: 'both' }),\n  PageBreak({ selector: '[book-page-break=\"avoid\"]', position: 'avoid' }),\n\n  PageBreak({ selector: '[book-page-break=\"after\"][book-page-continue=\"right\"]', position: 'after', continue: 'right' }),\n  PageBreak({ selector: '[book-page-break=\"after\"][book-page-continue=\"left\"]', position: 'after', continue: 'left' }),\n  PageBreak({ selector: '[book-page-break=\"after\"][book-page-continue=\"next\"]', position: 'after', continue: 'next' }),\n\n  PageBreak({ selector: '[book-page-break=\"before\"][book-page-continue=\"right\"]', position: 'before', continue: 'right' }),\n  PageBreak({ selector: '[book-page-break=\"before\"][book-page-continue=\"left\"]', position: 'before', continue: 'left' }),\n  PageBreak({ selector: '[book-page-break=\"before\"][book-page-continue=\"next\"]', position: 'before', continue: 'next' }),\n\n  FullBleedPage({ selector: '[book-full-bleed=\"page\"]' }),\n  FullBleedSpread({ selector: '[book-full-bleed=\"spread\"]' }),\n\n  Footnote({\n    selector: '[book-footnote-text]',\n    render: (element, number) => {\n      const txt = element.getAttribute('book-footnote-text');\n      return `<i>${number}</i>${txt}`;\n    },\n  }),\n\n  PageReference({\n    selector: '[book-pages-with-text]',\n    replace: replacer,\n    createTest: (element) => {\n      const term = element.getAttribute('book-pages-with-text').toLowerCase().trim();\n      return page => page.textContent.toLowerCase().includes(term);\n    },\n  }),\n\n  PageReference({\n    selector: '[book-pages-with-selector]',\n    replace: replacer,\n    createTest: (element) => {\n      const sel = element.getAttribute('book-pages-with-selector').trim();\n      return page => page.querySelector(sel);\n    },\n  }),\n\n  PageReference({\n    selector: '[book-pages-with]',\n    replace: replacer,\n    createTest: (element) => {\n      const term = element.textContent.toLowerCase().trim();\n      return (page) => {\n        const txt = page.textContent.toLowerCase();\n        return txt.includes(term);\n      };\n    },\n  }),\n];\n","/*  Regionize v0.1.3 */\nconst div = (cls) => {\n  const el = document.createElement('div');\n  el.classList.add(cls);\n  return el;\n};\n\nclass Region {\n  constructor(elmt) {\n    this.element = elmt;\n    this.content = div('region-content');\n    this.content.style.padding = '0.1px';\n    this.content.style.position = 'relative';\n    this.element.appendChild(this.content);\n    this.path = [];\n  }\n\n  setPath(newPath) {\n    this.path = newPath;\n    if (newPath.length > 0) this.content.appendChild(newPath[0]);\n  }\n\n  get currentElement() {\n    const len = this.path.length;\n    if (len > 0) return this.path[len - 1];\n    return this.content;\n  }\n\n  get isEmpty() {\n    return this.content.textContent.trim() === '' && this.content.offsetHeight < 1;\n  }\n\n  get isReasonableSize() {\n    const box = this.element.getBoundingClientRect();\n    return (box.height > 100) && (box.width > 100); // TODO: Number is arbitrary\n  }\n\n  overflowAmount() {\n    const contentH = this.content.offsetHeight;\n    const boxH = this.element.offsetHeight;\n    if (boxH === 0) throw Error('Regionizer: Trying to flow into an element with zero height.');\n    return contentH - boxH;\n  }\n\n  hasOverflowed() {\n    return this.overflowAmount() > -5;\n  }\n}\n\nconst isTextNode = node => node.nodeType === Node.TEXT_NODE;\nconst isElement = node => node.nodeType === Node.ELEMENT_NODE;\nconst isScript = node => node.tagName === 'SCRIPT';\nconst isImage = node => node.tagName === 'IMG';\nconst isUnloadedImage = node => isImage(node) && !node.naturalWidth;\nconst isContentElement = node => isElement(node) && !isScript(node);\n\nconst MAX_TIME = 30; // ms\n\nconst rAF = () => new Promise((resolve) => {\n  requestAnimationFrame(t => resolve(t));\n});\n\nlet lastYieldTime = 0;\n\nconst shouldYield = () => {\n  const timeSinceYield = performance.now() - lastYieldTime;\n  return timeSinceYield > MAX_TIME;\n};\n\nconst yieldIfNecessary = async () => {\n  if (shouldYield()) lastYieldTime = await rAF();\n};\n\nconst overflowAttr = 'data-ignore-overflow';\n// Walk up the tree to see if we are within\n// an overflow-ignoring node\nconst ignoreOverflow = (element) => {\n  if (element.hasAttribute(overflowAttr)) return true;\n  if (element.parentElement) return ignoreOverflow(element.parentElement);\n  return false;\n};\n\nconst createTextNode = (document.createTextNode).bind(document);\n\n// Try adding a text node in one go.\n// Returns true if all the text fits, false if none fits.\nconst addTextNode = async (textNode, parent, hasOverflowed) => {\n  parent.appendChild(textNode);\n  const success = !hasOverflowed();\n  if (!success) parent.removeChild(textNode);\n  await yieldIfNecessary();\n  return success;\n};\n\n\n// Try adding a text node by incrementally adding words\n// until it just barely doesnt overflow.\n//\n// Returns true if all the text fits, false if none fits,\n// or new textnode containing the remainder text.\nconst addTextNodeUntilOverflow = async (textNode, parent, hasOverflowed) => {\n  const originalText = textNode.nodeValue;\n  parent.appendChild(textNode);\n\n  if (!hasOverflowed() || ignoreOverflow(parent)) {\n    return true;\n  }\n\n  // Add letter by letter until overflow\n  let pos = 0;\n  textNode.nodeValue = originalText.substr(0, pos);\n\n  while (!hasOverflowed() && pos < originalText.length) {\n    // advance to next non-space character\n    pos += 1;\n    while (pos < originalText.length && originalText.charAt(pos) !== ' ') pos += 1;\n\n    if (pos < originalText.length) {\n      // reveal more text\n      textNode.nodeValue = originalText.substr(0, pos);\n      await yieldIfNecessary();\n    }\n  }\n\n  // Back out to word boundary\n  if (originalText.charAt(pos) === ' ') pos -= 1; // TODO: redundant\n  while (originalText.charAt(pos) !== ' ' && pos > 0) pos -= 1;\n\n  if (pos < 1) {\n    // We didn't even add a complete word, don't add node\n    textNode.nodeValue = originalText;\n    parent.removeChild(textNode);\n    return false; // TODO\n  }\n\n  // trim text to word\n  const fittingText = originalText.substr(0, pos);\n  const overflowingText = originalText.substr(pos);\n  textNode.nodeValue = fittingText;\n\n  // Create a new text node for the next flow box\n  const remainingTextNode = createTextNode(overflowingText);\n  return remainingTextNode;\n};\n\n\n// Fills text across multiple elements by requesting a continuation\n// once the current element overflows\nconst addTextNodeAcrossParents = async (textNode, parent, nextParent, hasOverflowed) => {\n  const result = await addTextNodeUntilOverflow(textNode, parent, hasOverflowed);\n  if (isTextNode(result)) {\n    const nextElement = nextParent();\n    return addTextNodeAcrossParents(result, nextElement, nextParent, hasOverflowed);\n  }\n  return result;\n};\n\n// Shifts this element to the next page. If any of its\n// ancestors cannot be split across page, it will\n// step up the tree to find the first ancestor\n// that can be split, and move all of that descendants\n// to the next page.\nconst tryInNextRegion = (region, makeNextRegion, canSplit) => {\n  if (region.path.length <= 1) {\n    throw Error('Regionize: Attempting to move the top-level element');\n  }\n  const startLength = region.path.length;\n\n  // So this node won't get cloned. TODO: this is unclear\n  const elementToMove = region.path.pop();\n\n  // find the nearest splittable parent\n  let nearestElementThatCanBeMoved = elementToMove;\n  const pathToRestore = [];\n  while (region.path.length > 1 && !canSplit(region.currentElement)) {\n    nearestElementThatCanBeMoved = region.path.pop();\n    pathToRestore.unshift(nearestElementThatCanBeMoved);\n  }\n\n  // Once a node is moved to a new page, it should no longer trigger another\n  // move. otherwise tall elements will endlessly get shifted to the next page\n  nearestElementThatCanBeMoved.setAttribute('data-bindery-did-move', true);\n\n  const parent = nearestElementThatCanBeMoved.parentNode;\n  parent.removeChild(nearestElementThatCanBeMoved);\n\n  // If the nearest ancestor would be empty without this node,\n  // move it to the next page too.\n  if (region.path.length > 1 && region.currentElement.textContent.trim() === '') {\n    parent.appendChild(nearestElementThatCanBeMoved);\n    nearestElementThatCanBeMoved = region.path.pop();\n    pathToRestore.unshift(nearestElementThatCanBeMoved);\n    nearestElementThatCanBeMoved.parentNode.removeChild(nearestElementThatCanBeMoved);\n  }\n\n  let nextRegion;\n  if (!region.isEmpty) {\n    if (region.hasOverflowed()) {\n      // Recovery failed, maybe the box contains a large\n      // unsplittable element.\n      region.suppressErrors = true;\n    }\n    nextRegion = makeNextRegion();\n  } else {\n    // If the page is empty when this node is removed,\n    // then it won't help to move it to the next page.\n    // Instead continue here until the node is done.\n    nextRegion = region;\n  }\n\n  // append moved node as first in new page\n  nextRegion.currentElement.appendChild(nearestElementThatCanBeMoved);\n\n  // restore subpath\n  pathToRestore.forEach(r => nextRegion.path.push(r));\n  nextRegion.path.push(elementToMove);\n\n  if (startLength !== nextRegion.path.length) {\n    throw Error('Regionize: Restored path depth does not match original path depth');\n  }\n};\n\n// The path is an array of nested elments,\n// for example .content > article > p > a).\n//\n// It's shallowly cloned every time we move to the next page,\n// to create the illusion that nodes are continuing from page\n// to page.\n//\n// The transition can be customized by setting a Split rule,\n// which lets you add classes to the original and cloned element\n// to customize styling.\n\nconst clonePath = (oldPath, applyRules) => {\n  const newPath = [];\n\n  const deepClone = (el) => {\n    const clone = el.cloneNode(true); // deep clone, could be th > h3 > span;\n    applyRules(el, clone);\n    return clone;\n  };\n\n  for (let i = oldPath.length - 1; i >= 0; i -= 1) {\n    const original = oldPath[i];\n    const clone = original.cloneNode(false); // shallow\n    const nextChild = oldPath[i + 1];\n    clone.innerHTML = '';\n\n    applyRules(original, clone, nextChild, deepClone);\n\n    if (i < oldPath.length - 1) clone.appendChild(newPath[i + 1]);\n    newPath[i] = clone;\n  }\n\n  return newPath;\n};\n\n// Polls every 10ms for image.naturalWidth\n// or an error event.\n//\n// Note: Doesn't ever reject, since missing images\n// shouldn't prevent layout from resolving\n\nconst wait10 = () => new Promise((resolve) => {\n  setTimeout(() => { resolve(); }, 10);\n});\n\nconst ensureImageLoaded = async (image) => {\n  const imgStart = performance.now();\n  let failed = false;\n  image.addEventListener('error', () => { failed = true; });\n  image.src = image.src; // re-trigger error if already failed\n\n  while (!image.naturalWidth && !failed) {\n    await wait10();\n  }\n\n  return performance.now() - imgStart;\n};\n\nconst preserveNumbering = (original, clone, nextChild) => {\n  // restart numbering\n  let prevStart = 1;\n  if (original.hasAttribute('start')) {\n    // the OL is also a continuation\n    prevStart = parseInt(original.getAttribute('start'), 10);\n  }\n  if (nextChild && nextChild.tagName === 'LI') {\n    // the first list item is a continuation\n    prevStart -= 1;\n  }\n  const prevCount = original.children.length;\n  const newStart = prevStart + prevCount;\n  clone.setAttribute('start', newStart);\n};\n\nconst preserveTableColumns = (original, clone, nextChild, deepClone) => {\n  const columns = [...original.children];\n\n  const currentIndex = columns.indexOf(nextChild);\n  for (let i = 0; i < currentIndex; i += 1) {\n    const clonedCol = deepClone(columns[i]);\n    clone.appendChild(clonedCol);\n  }\n};\n\nconst noop = () => {};\nconst always = () => true;\nconst never = () => false;\n\n// flow content through FlowBoxes.\n// This function is not book-specific,\n// the caller is responsible for managing\n// and creating boxes.\nconst flowIntoRegions = async (opts) => {\n  // required options\n  const content = opts.content;\n  const createRegion = opts.createRegion;\n  if (!content) throw Error('content not specified');\n  if (!createRegion) throw Error('createRegion not specified');\n\n  // optional\n  const applySplit = opts.applySplit || noop;\n  const canSplit = opts.canSplit || always;\n  const beforeAdd = opts.beforeAdd || noop;\n  const afterAdd = opts.afterAdd || noop;\n  const didWaitFor = opts.didWaitFor || noop;\n  const shouldTraverse = opts.shouldTraverse || never;\n\n  // ____\n  // Begin\n  let currentRegion = createRegion();\n  const hasOverflowed = () => currentRegion.hasOverflowed();\n  const canSplitCurrent = () => canSplit(currentRegion.currentElement);\n  const ignoreCurrentOverflow = () => ignoreOverflow(currentRegion.currentElement);\n\n  const splitRules = (prev, clone, next, deepClone) => {\n    if (prev.tagName === 'OL') preserveNumbering(prev, clone, next, deepClone);\n    if (prev.tagName === 'TR') preserveTableColumns(prev, clone, next, deepClone);\n    applySplit(prev, clone, next, deepClone);\n  };\n\n  const continueInNextRegion = () => {\n    const oldBox = currentRegion;\n    currentRegion = createRegion();\n\n    const newPath = clonePath(oldBox.path, splitRules);\n    currentRegion.setPath(newPath);\n    return currentRegion;\n  };\n\n  const continuedParent = () => {\n    continueInNextRegion();\n    return currentRegion.currentElement;\n  };\n\n  const addTextWithoutChecks = (textNode, parent) => {\n    parent.appendChild(textNode);\n    if (!ignoreCurrentOverflow() && canSplitCurrent()) {\n      currentRegion.suppressErrors = true;\n      continueInNextRegion();\n    }\n  };\n\n  const addSplittableTextNode = async (textNode) => {\n    const el = currentRegion.currentElement;\n    let hasAdded = await addTextNodeAcrossParents(textNode, el, continuedParent, hasOverflowed);\n    if (!hasAdded && currentRegion.path.length > 1) {\n      // retry 1\n      tryInNextRegion(currentRegion, continueInNextRegion, canSplit);\n      hasAdded = await addTextNodeAcrossParents(textNode, el, continuedParent, hasOverflowed);\n    }\n    if (!hasAdded) {\n      // retry 2\n      addTextWithoutChecks(textNode, currentRegion.currentElement);\n    }\n  };\n\n  const addWholeTextNode = async (textNode) => {\n    let hasAdded = await addTextNode(textNode, currentRegion.currentElement, hasOverflowed);\n    if (!hasAdded && !ignoreCurrentOverflow()) {\n      // retry 1\n      tryInNextRegion(currentRegion, continueInNextRegion, canSplit);\n      hasAdded = await addTextNode(textNode, currentRegion.currentElement, hasOverflowed);\n    }\n    if (!hasAdded) {\n      // retry 2\n      addTextWithoutChecks(textNode, currentRegion.currentElement);\n    }\n  };\n\n  // No need to traverse every node if fifts AND\n  // none of the contents could change size.\n  // Images and custom rules could cause the size to change\n  const canSkipTraversal = (element) => {\n    const containsImage = element.querySelector('img');\n    return !containsImage && !shouldTraverse(element);\n  };\n\n  let safeAddElementNode;\n\n  // Adds an element node by clearing its childNodes, then inserting them\n  // one by one recursively until they overflow the region\n  const addElementNode = async (element) => {\n    // Insert element\n    currentRegion.currentElement.appendChild(element);\n    currentRegion.path.push(element);\n\n    if (canSkipTraversal(element)) {\n      // console.log('maybe short circuit');\n      if (!hasOverflowed()) {\n        // console.log('did short circuit');\n        return currentRegion.path.pop();\n      }\n    }\n\n    // Clear element\n    const childNodes = [...element.childNodes];\n    element.innerHTML = '';\n\n    // Overflows when empty\n    if (hasOverflowed() && !ignoreCurrentOverflow() && canSplitCurrent()) {\n      tryInNextRegion(currentRegion, continueInNextRegion, canSplit);\n    }\n\n    const shouldSplit = canSplit(element) && !ignoreOverflow(element);\n\n    for (const child of childNodes) {\n      if (isTextNode(child)) {\n        await (shouldSplit ? addSplittableTextNode : addWholeTextNode)(child);\n      } else if (isContentElement(child)) {\n        await safeAddElementNode(child);\n      }\n    }\n    return currentRegion.path.pop();\n  };\n\n  safeAddElementNode = async (element) => {\n    // Ensure images are loaded before measuring\n    if (isUnloadedImage(element)) {\n      const waitTime = await ensureImageLoaded(element);\n      didWaitFor(waitTime);\n    }\n\n    // Transforms before adding\n    beforeAdd(element, continueInNextRegion);\n\n    const addedElement = await addElementNode(element);\n\n    // Transforms after adding\n    afterAdd(addedElement, continueInNextRegion);\n  };\n\n  return safeAddElementNode(content);\n};\n\nexport { Region, flowIntoRegions };\n","import { Region } from 'regionize';\nimport { safeMeasure, createEl, classes } from '../dom-utils';\n\nclass Page {\n  constructor() {\n    this.flow = new Region(createEl('flow-box'));\n    this.footer = createEl('footer');\n    this.background = createEl('page-background');\n    this.element = createEl('page', [this.background, this.flow.element, this.footer]);\n  }\n\n  static isSizeValid() {\n    const testPage = new Page();\n    return safeMeasure(testPage.element, () => testPage.flow.isReasonableSize);\n  }\n\n  setLeftRight(dir) {\n    this.side = dir;\n    this.element.classList.toggle(classes.leftPage, this.isLeft);\n    this.element.classList.toggle(classes.rightPage, !this.isLeft);\n  }\n  get isLeft() {\n    return this.side === 'left';\n  }\n\n  get isRight() {\n    return this.side === 'right';\n  }\n\n  setPreference(dir) {\n    const preferLeft = dir === 'left';\n    this.alwaysLeft = preferLeft;\n    this.alwaysRight = !preferLeft;\n  }\n\n  get suppressErrors() {\n    return this.suppress || false;\n  }\n\n  set suppressErrors(newVal) {\n    this.suppress = newVal;\n    this.element.classList.toggle(classes.isOverflowing, newVal);\n  }\n\n  get isEmpty() {\n    return !this.hasOutOfFlowContent && this.flow.isEmpty;\n  }\n\n  validate() {\n    if (!this.hasOverflowed()) return;\n    const suspect = this.currentElement;\n    if (suspect) {\n      console.warn('Bindery: Content overflows, probably due to a style set on:', suspect);\n      suspect.parentNode.removeChild(suspect);\n    } else {\n      console.warn('Bindery: Content overflows.');\n    }\n  }\n\n  validateEnd(allowOverflow) {\n    if (!this.hasOverflowed()) return;\n    console.warn(`Bindery: Page ~${this.number} is overflowing`, this.element);\n    if (!this.suppressErrors && !this.flow.suppressErrors && !allowOverflow) {\n      throw Error('Bindery: Moved to new page when last one is still overflowing');\n    }\n  }\n\n  hasOverflowed() {\n    return safeMeasure(this.element, () => this.flow.hasOverflowed());\n  }\n}\n\nexport default Page;\n","const indexOfNextReorderablePage = (pages, startIndex) => {\n  for (let i = startIndex; i < pages.length; i += 1) {\n    const pg = pages[i];\n    if (!pg.isOutOfFlow && !pg.avoidReorder) return i;\n  }\n  return null;\n};\n\n// Given an array of pages with alwaysLeft, alwaysRight, and isOutOfFlow\n// properties, orders them so that alwaysLeft and alwaysRight are true.\n\nconst orderPages = (pages, makeNewPage) => {\n  const orderedPages = pages.slice();\n\n  for (let i = 0; i < orderedPages.length; i += 1) {\n    const page = orderedPages[i];\n    const isLeft = i % 2 !== 0;\n\n    if ((isLeft && page.alwaysRight) || (!isLeft && page.alwaysLeft)) {\n      if (page.isOutOfFlow) {\n        // If the page is 'out of flow', we'd prefer not to add a blank page.\n        // Instead it floats backwards in the book, pulling the next\n        // in-flow page forward. If several 'out of flow' pages\n        // are next to each other, they will remain in order, all being pushed\n        // backward together.\n\n        const indexToSwap = indexOfNextReorderablePage(orderedPages, i + 1);\n        if (!indexToSwap) {\n          // No larger index to swap with, perhaps because\n          // we are optimistically rendering before the book is done\n          break;\n        }\n        const pageToMoveUp = orderedPages[indexToSwap];\n        orderedPages.splice(indexToSwap, 1); // remove pg\n        orderedPages.splice(i, 0, pageToMoveUp); // insert pg\n      } else {\n        // If the page is 'in flow', order must be respected, so extra blank pages\n        // are inserted.\n        orderedPages.splice(i, 0, makeNewPage());\n      }\n    }\n  }\n  return orderedPages;\n};\n\nexport default orderPages;\n","import Page from './Page';\nimport orderPages from './orderPages';\n\nconst MAXIMUM_PAGE_LIMIT = 2000;\n\nclass Book {\n  constructor() {\n    this.rawPages = [];\n    this.orderedPages = [];\n  }\n\n  addPage(newPage) {\n    this.rawPages.push(newPage);\n    this.updatePageOrder();\n  }\n\n  get pageCount() {\n    return this.orderedPages.length;\n  }\n\n  get pages() {\n    return this.orderedPages;\n  }\n\n  updatePageOrder() {\n    this.orderedPages = orderPages(this.rawPages, () => new Page());\n  }\n\n  validate() {\n    if (this.pageCount > MAXIMUM_PAGE_LIMIT) {\n      throw Error('Bindery: Maximum page count exceeded. Suspected runaway layout.');\n    }\n  }\n}\n\nexport default Book;\n","const annotatePages = (pages, offset) => {\n  // \n  // NUMBERING\n\n  // TODO: Pass in facingpages options\n  const facingPages = true;\n  if (facingPages) {\n    pages.forEach((page, i) => {\n      page.number = offset + i + 1;\n      page.setLeftRight((i % 2 === 0) ? 'right' : 'left');\n    });\n  } else {\n    pages.forEach((page) => { page.setLeftRight('right'); });\n  }\n\n  // \n  // RUNNING HEADERS\n\n  // Sections to annotate with.\n  // This should be a hierarchical list of selectors.\n  // Every time one is selected, it annotates all following pages\n  // and clears any subselectors.\n  // TODO: Make this configurable\n  const running = { h1: '', h2: '', h3: '', h4: '', h5: '', h6: '' };\n\n  pages.forEach((page) => {\n    page.heading = {};\n    Object.keys(running).forEach((tagName, i) => {\n      const element = page.element.querySelector(tagName);\n      if (element) {\n        running[tagName] = element.textContent;\n        // clear remainder\n        Object.keys(running).forEach((tag, j) => {\n          if (j > i) running[tag] = '';\n        });\n      }\n      if (running[tagName] !== '') {\n        page.heading[tagName] = running[tagName];\n      }\n    });\n  });\n};\n\nexport default annotatePages;\n","import FullBleedPage from '../rules/FullBleedPage';\nimport FullBleedSpread from '../rules/FullBleedSpread';\nimport PageBreak from '../rules/PageBreak';\n\nconst isSpread = rule => rule instanceof FullBleedSpread;\nconst isPage = rule => rule instanceof FullBleedPage;\nconst isBreak = rule => rule instanceof PageBreak;\n\nconst isFullPageRule = rule => isSpread(rule) || isPage(rule) || isBreak(rule);\n\nconst dedupe = (inputRules) => {\n  const conflictRules = inputRules.filter(isFullPageRule);\n  const output = inputRules.filter(rule => !conflictRules.includes(rule));\n\n  const firstSpreadRule = conflictRules.find(isSpread);\n  const firstPageRule = conflictRules.find(isPage);\n\n  // Only apply one fullpage or fullspread\n  if (firstSpreadRule) output.push(firstSpreadRule);\n  else if (firstPageRule) output.push(firstPageRule);\n  else output.push(...conflictRules); // but multiple pagebreaks are ok\n\n  return output;\n};\n\nexport default dedupe;\n","// TODO:\n// While this does catch overflows, it is pretty hacky to move the entire node to the next page.\n// - 1. there is no guarentee it will fit on the new page\n// - 2. if it had childNodes, those side effects will not be undone,\n// which means footnotes will get left on previous page.\n// - 3. if it is a large paragraph, it will leave a large gap. the\n// ideal approach would be to only need to invalidate the last line of text.\nconst recoverFromRule = (el, book, nextBox) => {\n  let removed = el;\n  const parent = el.parentNode;\n  parent.removeChild(removed);\n  let popped;\n  if (book.currentPage.hasOverflowed()) {\n    parent.appendChild(el);\n    removed = parent;\n    removed.parentNode.removeChild(removed);\n    popped = book.currentPage.flow.path.pop();\n    if (book.currentPage.hasOverflowed()) {\n      console.error('Trying again didnt fix it');\n    } else {\n      // Trying again worked\n    }\n  }\n  const newBox = nextBox();\n  newBox.currentElement.appendChild(removed);\n  if (popped) newBox.path.push(popped);\n};\n\n\nexport default recoverFromRule;\n","import { classes } from '../dom-utils';\nimport dedupe from './dedupeRules';\nimport recoverFromRule from './recoverFromRule';\n\nconst giveUp = (rule, el) => {\n  console.warn(`Couldn't apply ${rule.name}, caused overflows twice when adding: `, el);\n};\n\nclass RuleSet {\n  constructor(rules) {\n    const offsetRule = rules.find(r => r.pageNumberOffset);\n    this.pageNumberOffset = offsetRule ? offsetRule.pageNumberOffset : 0;\n\n    // Rules for pages\n    this.pageRules = rules.filter(r => r.eachPage);\n\n    // Rules for elements\n    this.beforeAddRules = rules.filter(r => r.selector && r.beforeAdd);\n    this.afterAddRules = rules.filter(r => r.selector && r.afterAdd);\n\n    // Rules for layout\n    this.selectorsNotToSplit = rules.filter(r => r.avoidSplit).map(r => r.selector);\n    this.didSplitRules = rules.filter(r => r.selector && r.didSplit);\n\n    // setup\n    rules.filter(r => r.setup).forEach(r => r.setup());\n\n    this.applySplitRules = this.applySplitRules.bind(this);\n\n    const allSelectors = rules.map(r => r.selector).filter(sel => !!sel).join(', ');\n    if (allSelectors) {\n      const shouldTraverse = el => el.querySelector(allSelectors);\n      this.shouldTraverse = shouldTraverse.bind(this);\n    } else {\n      this.shouldTraverse = () => false;\n    }\n  }\n\n  applySplitRules(original, clone, nextChild, deepClone) {\n    original.classList.add(classes.toNext);\n    clone.classList.add(classes.fromPrev);\n\n    this.didSplitRules.filter(r => original.matches(r.selector)).forEach((rule) => {\n      rule.didSplit(original, clone, nextChild, deepClone);\n    });\n  }\n\n  // Rules for pages\n  applyPageDoneRules(pg, book) {\n    this.pageRules.forEach(rule => rule.eachPage(pg, book));\n  }\n  finishEveryPage(book) {\n    this.pageRules.forEach(rule => book.pages.forEach(pg => rule.eachPage(pg, book)));\n  }\n\n  // Rules for elements\n  applyBeforeAddRules(element, book, continueOnNewPage, makeNewPage) {\n    let addedElement = element;\n\n    const matchingRules = this.beforeAddRules.filter(rule => addedElement.matches(rule.selector));\n\n    matchingRules.forEach((rule) => {\n      addedElement = rule.beforeAdd(addedElement, book, continueOnNewPage, makeNewPage);\n    });\n    return addedElement;\n  }\n\n  applyAfterAddRules(originalElement, book, continueOnNewPage, makeNewPage) {\n    let addedElement = originalElement;\n\n    const attemptRecovery = el => recoverFromRule(el, book, continueOnNewPage);\n    const matchingRules = this.afterAddRules.filter(rule => addedElement.matches(rule.selector));\n    const uniqueRules = dedupe(matchingRules);\n\n    uniqueRules.forEach((rule) => {\n      const retry = (el) => {\n        attemptRecovery(el);\n        return rule.afterAdd(el, book, continueOnNewPage, makeNewPage, () => giveUp(rule, el));\n      };\n      addedElement = rule.afterAdd(addedElement, book, continueOnNewPage, makeNewPage, retry);\n    });\n    return addedElement;\n  }\n}\n\nexport default RuleSet;\n","const sec = ms => (ms / 1000).toFixed(2);\n\nconst estimateFor = (content) => {\n  const start = window.performance.now();\n  const capacity = content.querySelectorAll('*').length;\n  let timeWaiting = 0;\n  let completed = 0;\n\n  return {\n    increment: () => { completed += 1; },\n    addWaitTime: (t) => { timeWaiting += t; },\n    get progress() { return completed / capacity; },\n    end: () => {\n      const end = window.performance.now();\n      const total = end - start;\n      const layout = total - timeWaiting;\n      console.log(` Layout ready in ${sec(layout)}s (plus ${sec(timeWaiting)}s waiting for images)`);\n    },\n  };\n};\n\nexport default estimateFor;\n","import { flowIntoRegions } from 'regionize';\nimport { Book, Page, annotatePages } from '../book';\n\n// paginate\nimport RuleSet from './RuleSet';\nimport estimateFor from './estimateProgress';\n\nconst makeBook = async (content, rules, updateProgress) => {\n  if (!Page.isSizeValid()) throw Error('Page is too small');\n\n  const estimator = estimateFor(content);\n  const ruleSet = new RuleSet(rules);\n  const book = new Book();\n  const pageNumberOffset = ruleSet.pageNumberOffset;\n\n  const makeNewPage = () => new Page();\n\n  const finishPage = (page, allowOverflow) => {\n    // finished with this page, can display\n    book.updatePageOrder();\n    annotatePages(book.pages, pageNumberOffset);\n    ruleSet.applyPageDoneRules(page, book);\n    page.validateEnd(allowOverflow);\n    book.validate();\n  };\n\n  const addPageToBook = (allowOverflow = false) => {\n    const oldPage = book.currentPage;\n    if (oldPage) finishPage(oldPage, allowOverflow);\n\n    const newPage = makeNewPage();\n    book.currentPage = newPage;\n    book.addPage(newPage);\n\n    updateProgress(book, estimator.progress);\n    newPage.validate();\n    return newPage;\n  };\n\n  const makeNextRegion = () => {\n    const newPage = addPageToBook();\n    return newPage.flow;\n  };\n\n  const applySplit = ruleSet.applySplitRules;\n  const dontSplitSel = ruleSet.selectorsNotToSplit;\n  const canSplit = (element) => {\n    if (dontSplitSel.some(sel => element.matches(sel))) {\n      return false;\n    }\n    if (element.parentElement) return canSplit(element.parentElement, dontSplitSel);\n    return true;\n  };\n\n  const beforeAdd = (elementToAdd, continueInNextRegion) => {\n    ruleSet.applyBeforeAddRules(elementToAdd, book, continueInNextRegion, makeNewPage);\n  };\n\n  const afterAdd = (addedElement, continueInNextRegion) => {\n    estimator.increment();\n    return ruleSet.applyAfterAddRules(addedElement, book, continueInNextRegion, makeNewPage);\n  };\n\n  // init\n  content.style.margin = 0;\n  content.style.padding = 0;\n\n  await flowIntoRegions({\n    content,\n    createRegion: makeNextRegion,\n    applySplit,\n    canSplit,\n    beforeAdd,\n    afterAdd,\n    shouldTraverse: ruleSet.shouldTraverse,\n    didWaitFor: t => estimator.addWaitTime(t),\n  });\n\n  book.updatePageOrder();\n  annotatePages(book.pages, pageNumberOffset);\n\n  ruleSet.finishEveryPage(book);\n  estimator.end();\n  return book;\n};\n\n\nexport default makeBook;\n","const isElement = node => node.nodeType === Node.ELEMENT_NODE;\nconst isObj = val => typeof val === 'object';\nconst isFunc = val => typeof val === 'function';\nconst isStr = val => typeof val === 'string';\n\n\nconst h = (tagName, cls, attrs, children, text) => {\n  const el = document.createElement(tagName);\n  if (cls) el.className = cls;\n  if (text) el.textContent = text;\n  if (attrs) for (const k in attrs) {\n    const v = attrs[k];\n    if (isFunc(v)) el[k] = v;\n    else el.setAttribute(k, v);\n  }\n  if (children) children.forEach(c => el.appendChild(c));\n  return el;\n}\n\nconst div = (cls, children, label) => h('div', cls, {}, children, label);\nconst button = (cls, attrs, label) => h('button', cls, attrs, [], label);\nconst select = (cls, attrs, children) => h('select', cls, attrs, children);\nconst option = (attrs, label) => h('option', null, attrs, [], label);\n\nexport { div, button, select, option };\n","import { div, button, select, option } from './dom';\nimport { c, createEl } from '../dom-utils';\n\nconst row = (children) => createEl('row', children);\n\n// Button\nconst btn = (attrs, txt) => button(`${c('control')} ${c('btn')}`, attrs, txt);\nconst btnMain = (attrs, txt) => button(`${c('control')} ${c('btn')} ${c('btn-main')}`, attrs, txt);\n\nconst dropdown = (attrs, options) => {\n  const selectVal = createEl('select-val', [], 'Value');\n  const selectEl = select(c('select'), attrs, options);\n  const updateVal = () => {\n    selectVal.textContent = selectEl.options[selectEl.selectedIndex].text;\n  };\n  selectEl.addEventListener('change', updateVal);\n  updateVal();\n  return createEl('.select-wrap.control', [selectVal, selectEl]);\n};\n\nexport {\n  row,\n  btn,\n  btnMain,\n  dropdown,\n  option,\n  div,\n};\n","import { c } from '../dom-utils';\nimport {\n  dropdown,\n  option,\n  btnMain,\n  row,\n  div,\n} from './components';\n\n// TODO: This is not a particularly robust check.\nconst supportsCustomPageSize = !!window.chrome;\n\nclass Controls {\n  constructor(availableOptions, initialState, actions) {\n    const { Mode, Paper, Layout, Marks } = availableOptions;\n\n    let viewSelect;\n    let marksSelect;\n\n    const print = () => {\n      actions.setMode(Mode.PRINT);\n\n      const sel = viewSelect.querySelector('select');\n      sel.value = Mode.PRINT;\n      sel.dispatchEvent(new Event('change'));\n\n      setTimeout(window.print, 10);\n    };\n\n    const printBtn = btnMain({ onclick: print }, 'Print');\n\n    const paperSizes = (supportsCustomPageSize ? [\n      option({ value: Paper.AUTO }, 'Auto'),\n      option({ value: Paper.AUTO_BLEED }, 'Auto + Bleed'),\n      option({ value: Paper.AUTO_MARKS }, 'Auto + Marks'),\n      option({ value: Paper.LETTER_PORTRAIT }, 'Letter Portrait'),\n      option({ value: Paper.LETTER_LANDSCAPE }, 'Letter Landscape'),\n      option({ value: Paper.A4_PORTRAIT }, 'A4 Portrait'),\n      option({ value: Paper.A4_LANDSCAPE }, 'A4 Landscape'),\n    ] : [\n      option({ value: Paper.LETTER_PORTRAIT, selected: true }, 'Default Page Size *'),\n      option({ disabled: true }, 'Only Chrome supports custom page sizes. Set in your browser\\'s print dialog instead.'),\n    ]).map((opt) => {\n      if (parseInt(opt.value, 10) === initialState.paper) { opt.selected = true; }\n      return opt;\n    });\n\n    const updateSheetSizeNames = () => {\n      if (!supportsCustomPageSize) return;\n      const size = actions.getPageSize();\n      const sizeName = `${size.width}  ${size.height}`;\n      paperSizes[0].textContent = `${sizeName}`;\n      paperSizes[1].textContent = `${sizeName} + Bleed`;\n      paperSizes[2].textContent = `${sizeName} + Marks`;\n    };\n    updateSheetSizeNames();\n\n    const updatePaper = (e) => {\n      const newVal = parseInt(e.target.value, 10);\n      actions.setPaper(newVal);\n      if (newVal === Paper.AUTO || newVal === Paper.AUTO_BLEED) {\n        marksSelect.classList.add(c('hidden-select'));\n      } else {\n        marksSelect.classList.remove(c('hidden-select'));\n      }\n    };\n\n    const sheetSizeSelect = dropdown({ onchange: updatePaper }, paperSizes);\n\n    const layoutSelect = dropdown(\n      { onchange: (e) => {\n        actions.setLayout(e.target.value);\n        updateSheetSizeNames();\n      } },\n      [\n        option({ value: Layout.PAGES }, '1 Page / Sheet'),\n        option({ value: Layout.SPREADS }, '1 Spread / Sheet'),\n        option({ value: Layout.BOOKLET }, 'Booklet Sheets'),\n      ].map((opt) => {\n        if (parseInt(opt.value, 10) === initialState.layout) { opt.selected = true; }\n        return opt;\n      })\n    );\n    const arrangement = row([layoutSelect]);\n\n    marksSelect = dropdown(\n      { onchange: e => actions.setMarks(e.target.value) },\n      [\n        option({ value: Marks.NONE }, 'No Marks'),\n        option({ value: Marks.CROP, selected: true }, 'Crop Marks'),\n        option({ value: Marks.BLEED }, 'Bleed Marks'),\n        option({ value: Marks.BOTH }, 'Crop and Bleed'),\n      ].map((opt) => {\n        if (opt.value === initialState.marks) { opt.selected = true; }\n        return opt;\n      })\n    );\n    if (supportsCustomPageSize) {\n      marksSelect.classList.add(c('hidden-select'));\n    }\n    const marks = row([marksSelect]);\n    const sheetSize = row([sheetSizeSelect]);\n\n\n    this.setDone = () => {};\n    this.setInProgress = () => {};\n    this.updateProgress = () => {};\n\n    printBtn.classList.add(c('btn-print'));\n    const options = row([arrangement, sheetSize, marks]);\n    options.classList.add(c('print-options'));\n\n    viewSelect = dropdown(\n      { onchange: e => actions.setMode(e.target.value) },\n      [\n        option({ value: Mode.PREVIEW }, 'Grid'),\n        option({ value: Mode.FLIPBOOK }, 'Flipbook'),\n        option({ value: Mode.PRINT }, 'Print Preview'),\n      ].map((opt) => {\n        if (opt.value === initialState.mode) { opt.selected = true; }\n        return opt;\n      })\n    );\n    const viewRow = row([viewSelect]);\n    viewRow.classList.add(c('view-row'));\n\n    this.element = div(c('controls'), [viewRow, options, printBtn]);\n  }\n\n}\n\nexport default Controls;\n","const padPages = (pages, makePage) => {\n  if (pages.length % 2 !== 0) {\n    const pg = makePage();\n    pages.push(pg);\n  }\n  const spacerPage = makePage();\n  const spacerPage2 = makePage();\n  spacerPage.element.style.visibility = 'hidden';\n  spacerPage2.element.style.visibility = 'hidden';\n  pages.unshift(spacerPage);\n  pages.push(spacerPage2);\n\n  return pages;\n};\n\nexport default padPages;\n","import { Page } from '../book';\nimport { createEl } from '../dom-utils';\nimport padPages from './padPages';\n\nconst twoPageSpread = children => createEl('.spread-wrapper.spread-centered.spread-size', children);\nconst onePageSpread = children => createEl('.spread-wrapper.spread-centered.page-size', children);\n\nconst renderGridLayout = (bookPages, isTwoUp) => {\n  const pages = isTwoUp ? padPages(bookPages, () => new Page()) : bookPages;\n\n  const gridLayout = document.createDocumentFragment();\n  if (isTwoUp) {\n    for (let i = 0; i < pages.length; i += 2) {\n      const wrap = twoPageSpread([pages[i].element, pages[i + 1].element]);\n      gridLayout.appendChild(wrap);\n    }\n  } else {\n    pages.forEach((pg) => {\n      const wrap = onePageSpread([pg.element]);\n      gridLayout.appendChild(wrap);\n    });\n  }\n\n  return gridLayout;\n};\n\nexport default renderGridLayout;\n","import { createEl } from '../dom-utils';\n\nconst directions = ['top', 'bottom', 'left', 'right'];\nconst bleedMarks = () => directions.map(dir => createEl(`.mark-bleed-${dir}`));\nconst cropMarks = () => directions.map(dir => createEl(`.mark-crop-${dir}`));\n\nconst printMarksSingle = () => createEl('.page-size.print-mark-wrap', [\n  ...cropMarks(), ...bleedMarks(),\n]);\n\nconst printMarksSpread = () => createEl('.spread-size.print-mark-wrap', [\n  createEl('.mark-crop-fold'), ...cropMarks(), ...bleedMarks(),\n]);\n\nconst bookletMeta = (i, len) => {\n  const isFront = i % 4 === 0;\n  const sheetIndex = parseInt((i + 1) / 4, 10) + 1;\n  return createEl('.print-meta', `Sheet ${sheetIndex} of ${len / 4}: ${isFront ? 'Outside' : 'Inside'}`);\n};\n\nexport {\n  printMarksSingle,\n  printMarksSpread,\n  bookletMeta,\n};\n","const orderPagesBooklet = (pages, makePage) => {\n  while (pages.length % 4 !== 0) {\n    const spacerPage = makePage();\n    spacerPage.element.style.visibility = 'hidden';\n    pages.push(spacerPage);\n  }\n  const bookletOrder = [];\n  const len = pages.length;\n\n  for (let i = 0; i < len / 2; i += 2) {\n    bookletOrder.push(pages[len - 1 - i]);\n    bookletOrder.push(pages[i]);\n    bookletOrder.push(pages[i + 1]);\n    bookletOrder.push(pages[len - 2 - i]);\n  }\n\n  return bookletOrder;\n};\n\nexport default orderPagesBooklet;\n","import { createEl, classes } from '../dom-utils';\nimport { Page } from '../book';\nimport { Layout } from '../constants';\n\nimport { printMarksSingle, printMarksSpread, bookletMeta } from './printMarks';\nimport padPages from './padPages';\nimport orderPagesBooklet from './orderPagesBooklet';\n\nconst twoPageSpread = children => createEl('.spread-wrapper', children);\nconst onePageSpread = children => createEl('.spread-wrapper', children);\n\nconst renderPrintLayout = (bookPages, doubleSided, layout) => {\n  const isTwoUp = layout !== Layout.PAGES;\n  const isSpreads = layout === Layout.SPREADS;\n  const isBooklet = layout === Layout.BOOKLET;\n\n  let pages = bookPages;\n  if (isSpreads) pages = padPages(pages, () => new Page());\n  else if (isBooklet) pages = orderPagesBooklet(pages, () => new Page());\n\n  const printLayout = document.createDocumentFragment();\n\n  const marks = isTwoUp ? printMarksSpread : printMarksSingle;\n  const spread = isTwoUp ? twoPageSpread : onePageSpread;\n\n  const printSheet = children => createEl('print-sheet', [spread(children)]);\n\n  if (isTwoUp) {\n    for (let i = 0; i < pages.length; i += 2) {\n      const spreadMarks = marks();\n      if (isBooklet) {\n        const meta = bookletMeta(i, pages.length);\n        spreadMarks.appendChild(meta);\n      }\n      const sheet = printSheet([\n        createEl('.page-bleed-clip.page-bleed-clip-left', [pages[i].element]),\n        createEl('.page-bleed-clip.page-bleed-clip-right', [pages[i + 1].element]),\n        spreadMarks]);\n      sheet.classList.add(classes.sheetSpread);\n      printLayout.appendChild(sheet);\n    }\n  } else {\n    pages.forEach((pg) => {\n      const sheet = printSheet([pg.element, marks()]);\n      sheet.classList.add(pg.isLeft ? classes.sheetLeft : classes.sheetRight);\n      printLayout.appendChild(sheet);\n    });\n  }\n\n  return printLayout;\n};\n\nexport default renderPrintLayout;\n","import { Page } from '../book';\nimport { c, createEl } from '../dom-utils';\nimport padPages from './padPages';\n\nconst renderFlipLayout = (bookPages, doubleSided) => {\n  const pages = padPages(bookPages, () => new Page());\n\n  const flipLayout = document.createDocumentFragment();\n  const sizer = createEl('.spread-size.flip-sizer');\n  const flapHolder = createEl('.spread-size.flap-holder');\n  sizer.appendChild(flapHolder);\n  flipLayout.appendChild(sizer);\n  const flaps = [];\n  let currentLeaf = -1;\n\n  let leftOffset = 4;\n  if (pages.length * leftOffset > 60) {\n    leftOffset = 60 / pages.length;\n  }\n  flapHolder.style.width = `${pages.length * leftOffset}px`;\n\n  const setLeaf = (n) => {\n    let newLeaf = n;\n    if (newLeaf === currentLeaf) newLeaf += 1;\n    currentLeaf = newLeaf;\n\n    let zScale = 4;\n    if (flaps.length * zScale > 200) zScale = 200 / flaps.length;\n\n    flaps.forEach((flap, i, arr) => {\n      // + 0.5 so left and right are even\n      const z = (arr.length - Math.abs((i - newLeaf) + 0.5)) * zScale;\n      flap.style.transform = `translate3d(${(i < newLeaf) ? 4 : 0}px,0,${z}px) rotateY(${(i < newLeaf) ? -180 : 0}deg)`;\n    });\n  };\n\n  let leafIndex = 0;\n  for (let i = 1; i < pages.length - 1; i += (doubleSided ? 2 : 1)) {\n    leafIndex += 1;\n    const li = leafIndex;\n    const flap = createEl('.page3d');\n    flap.addEventListener('click', () => {\n      const newLeaf = li - 1;\n      setLeaf(newLeaf);\n    });\n\n    const rightPage = pages[i].element;\n    let leftPage;\n    rightPage.classList.add(c('page3d-front'));\n    flap.appendChild(rightPage);\n    if (doubleSided) {\n      flap.classList.add(c('doubleSided'));\n      leftPage = pages[i + 1].element;\n    } else {\n      leftPage = createEl('.page');\n    }\n    leftPage.classList.add(c('page3d-back'));\n    flap.appendChild(leftPage);\n\n    // TODO: Dynamically add/remove pages.\n    // Putting 1000s of elements onscreen\n    // locks up the browser.\n\n    flap.style.left = `${i * leftOffset}px`;\n\n    flaps.push(flap);\n    flapHolder.appendChild(flap);\n  }\n\n  setLeaf(0);\n  return flipLayout;\n};\n\nexport default renderFlipLayout;\n","/* global BINDERY_VERSION */\n\nimport { createEl } from '../dom-utils';\n\nexport default function (title, text) {\n  return createEl('.error', [\n    createEl('.error-title', title),\n    createEl('.error-text', text),\n    createEl('.error-footer', `Bindery ${BINDERY_VERSION}`),\n  ]);\n}\n","const isCommandP = e => (e.ctrlKey || e.metaKey) && e.keyCode === 80;\n\n// Automatically switch into print mode\nconst listenForPrint = (beforePrint) => {\n  if (window.matchMedia) {\n    const mediaQueryList = window.matchMedia('print');\n    mediaQueryList.addListener((mql) => {\n      if (mql.matches) {\n        // before print\n        beforePrint();\n      } else {\n        // after print\n      }\n    });\n  }\n  document.body.addEventListener('keydown', (e) => {\n    if (isCommandP(e)) {\n      e.preventDefault();\n      beforePrint();\n      setTimeout(() => window.print(), 200);\n    }\n  });\n};\n\nexport default listenForPrint;\n","import { Page } from '../book';\nimport Controls from '../controls';\nimport { Mode, Paper, Layout, Marks } from '../constants';\nimport { classes, createEl } from '../dom-utils';\nimport { throttleFrame, throttleTime } from '../utils';\nimport { gridLayout, printLayout, flipLayout } from '../layouts';\n\nimport errorView from './error';\nimport listenForPrint from './listenForPrint';\n\nconst throttleProgressBar = throttleFrame();\nconst throttleRender = throttleTime(100);\nconst throttleResize = throttleTime(50);\nconst document = window.document;\n\nclass Viewer {\n  constructor({ pageSetup, mode, layout, marks }) {\n    this.book = null;\n    this.pageSetup = pageSetup;\n\n    this.progressBar = createEl('progress-bar');\n    this.content = createEl('zoom-content');\n    this.scaler = createEl('zoom-scaler', [this.content]);\n    this.element = createEl('root', [this.progressBar, this.scaler]);\n\n    this.doubleSided = true;\n    this.layout = layout;\n\n    this.setMarks(marks);\n    this.mode = mode;\n    this.element.classList.add(classes.viewPreview);\n    this.currentLeaf = 0;\n\n    listenForPrint(() => {\n      this.mode = Mode.PRINT;\n      this.render();\n    });\n\n    window.addEventListener('resize', () => {\n      throttleResize(() => this.scaleToFit());\n    });\n\n    this.controls = new Controls(\n      { Mode, Paper, Layout, Marks }, // Available options\n      { // Initial props\n        paper: this.pageSetup.paper,\n        layout: this.layout,\n        mode: this.mode,\n        marks,\n      },\n      { // Actions\n        setMode: this.setMode.bind(this),\n        setPaper: this.setSheetSize.bind(this),\n        setLayout: this.setLayout.bind(this),\n        setMarks: this.setMarks.bind(this),\n        getPageSize: () => this.pageSetup.displaySize,\n      }\n    );\n    this.element.appendChild(this.controls.element);\n\n    this.inProgress = true;\n\n    this.show();\n  }\n\n  setMode(newVal) {\n    const newMode = parseInt(newVal, 10);\n    if (newMode === this.mode) return;\n    this.mode = newMode;\n    this.render();\n  }\n\n  get inProgress() {\n    return this.element.classList.contains(classes.inProgress);\n  }\n\n  set inProgress(newVal) {\n    this.element.classList.toggle(classes.inProgress, newVal);\n    if (newVal && this.controls) this.controls.setInProgress();\n  }\n\n  get isTwoUp() {\n    return this.layout !== Layout.PAGES;\n  }\n\n  get isShowingCropMarks() {\n    return this.element.classList.contains(classes.showCrop);\n  }\n\n  set isShowingCropMarks(newVal) {\n    this.element.classList.toggle(classes.showCrop, newVal);\n  }\n\n  get isShowingBleedMarks() {\n    return this.element.classList.contains(classes.showBleedMarks);\n  }\n\n  set isShowingBleedMarks(newVal) {\n    this.element.classList.toggle(classes.showBleedMarks, newVal);\n  }\n\n  get isShowingBleed() {\n    return this.element.classList.contains(classes.showBleed);\n  }\n\n  set isShowingBleed(newVal) {\n    this.element.classList.toggle(classes.showBleed, newVal);\n  }\n\n  get isViewing() {\n    return document.body.classList.contains(classes.isViewing);\n  }\n\n  set isViewing(newVal) {\n    document.body.classList.toggle(classes.isViewing, newVal);\n  }\n\n  setSheetSize(str) {\n    const newVal = parseInt(str, 10);\n\n    this.pageSetup.paper = newVal;\n    this.pageSetup.updateStyleVars();\n\n    this.mode = Mode.PRINT;\n    this.render();\n\n    this.scaleToFit();\n    setTimeout(() => { this.scaleToFit(); }, 300);\n  }\n\n  setLayout(str) {\n    const newVal = parseInt(str, 10);\n\n    if (newVal === this.layout) return;\n    this.layout = newVal;\n\n    this.pageSetup.printTwoUp = this.isTwoUp;\n    this.pageSetup.updateStyleVars();\n\n    this.mode = Mode.PRINT;\n    this.render();\n  }\n\n  setMarks(str) {\n    const newVal = parseInt(str, 10);\n    this.isShowingCropMarks = (newVal === Marks.CROP || newVal === Marks.BOTH);\n    this.isShowingBleedMarks = (newVal === Marks.BLEED || newVal === Marks.BOTH);\n  }\n\n  displayError(title, text) {\n    this.show();\n    if (!this.error) {\n      this.error = errorView(title, text);\n      this.element.appendChild(this.error);\n      this.scrollToBottom();\n      if (this.book) {\n        const flow = this.book.currentPage.flow;\n        if (flow) flow.currentElement.style.outline = '3px solid red';\n      }\n    }\n  }\n\n  scrollToBottom() {\n    const scroll = document.scrollingElement;\n    if (!scroll) return;\n    const scrollMax = scroll.scrollHeight - scroll.offsetHeight;\n    scroll.scrollTop = scrollMax;\n  }\n\n  clear() {\n    this.book = null;\n    this.lastSpreadInProgress = null; // TODO: Make this clearer, after first render\n    this.content.innerHTML = '';\n  }\n\n  show() {\n    if (this.element.parentNode) return;\n    document.body.appendChild(this.element);\n    this.isViewing = true;\n  }\n\n  hide() {\n    // TODO this doesn't work if the target is an existing node\n    if (!this.element.parentNode) return;\n    this.element.parentNode.removeChild(this.element);\n    this.isViewing = false;\n  }\n\n  render(newBook) {\n    if (newBook) this.book = newBook;\n    if (!this.book) return;\n    this.show();\n\n    this.element.classList.remove(...classes.allModes);\n    this.element.classList.add(classes[this.mode]);\n    this.isShowingBleed = this.mode === Mode.PRINT;\n\n    const prevScroll = this.scrollPercent;\n\n    if (this.controls) this.controls.setDone(this.book.pages.length);\n    this.progress = 1;\n\n    window.requestAnimationFrame(() => {\n      const pages = this.book.pages.slice();\n      const fragment = this.viewFor(this.mode)(pages, this.doubleSided, this.layout);\n      this.content.innerHTML = '';\n      this.content.appendChild(fragment);\n      if (!this.hasRendered) this.hasRendered = true;\n      else this.scrollPercent = prevScroll;\n\n      this.scaleToFit();\n    });\n  }\n\n  viewFor(mode) {\n    if (mode === Mode.PREVIEW) return gridLayout;\n    else if (mode === Mode.FLIPBOOK) return flipLayout;\n    else if (mode === Mode.PRINT) return printLayout;\n    throw Error(`Invalid layout mode: ${this.mode} (type ${typeof this.mode})`);\n  }\n\n  set progress(p) {\n    if (p < 1) {\n      throttleProgressBar(() => {\n        this.progressBar.style.transform = `scaleX(${p})`;\n      });\n    } else {\n      this.progressBar.style.transform = '';\n    }\n  }\n\n  updateProgress(book, estimatedProgress) {\n    this.book = book;\n    this.progress = estimatedProgress;\n\n    if (!document || !document.scrollingElement) return;\n    // don't rerender if preview is out of view\n    const scrollTop = document.scrollingElement.scrollTop;\n    const scrollH = document.scrollingElement.scrollHeight;\n    const h = document.scrollingElement.offsetHeight;\n    if (scrollH > h * 3 && scrollTop < h) return;\n\n    // don't rerender too often\n    throttleRender(() => this.renderProgress(book, estimatedProgress));\n  }\n\n  renderProgress(book, estimatedProgress) {\n    const needsZoomUpdate = !this.content.firstElementChild;\n\n    if (this.controls) {\n      this.controls.updateProgress(book.pageCount, estimatedProgress);\n    }\n\n    const sideBySide =\n      this.mode === Mode.PREVIEW\n      || (this.mode === Mode.PRINT && this.layout !== Layout.PAGES);\n    const limit = sideBySide ? 2 : 1;\n\n    const makeSpread = pgs => createEl('.spread-wrapper.spread-centered.spread-size', pgs);\n\n    book.pages.forEach((page, i) => {\n      if (this.content.contains(page.element) && page.element.parentNode !== this.content) return;\n      if (this.lastSpreadInProgress && this.lastSpreadInProgress.children.length < limit) {\n        this.lastSpreadInProgress.appendChild(page.element);\n        return;\n      }\n      this.lastSpreadInProgress = makeSpread([page.element]);\n      if (i === 0 && sideBySide) {\n        const spacer = new Page();\n        spacer.element.style.visibility = 'hidden';\n        this.lastSpreadInProgress.insertBefore(\n          spacer.element,\n          this.lastSpreadInProgress.firstElementChild\n        );\n      }\n      this.content.appendChild(this.lastSpreadInProgress);\n    });\n\n    if (needsZoomUpdate) this.scaleToFit();\n  }\n\n  scaleToFit() {\n    if (!this.content.firstElementChild) return;\n    const prevScroll = this.scrollPercent;\n    this.scaler.style.transform = `scale(${this.scaleThatFits})`;\n    this.scrollPercent = prevScroll;\n  }\n\n  get scaleThatFits() {\n    const viewerW = this.scaler.getBoundingClientRect().width;\n    const contentW = this.content.getBoundingClientRect().width;\n    return Math.min(1, viewerW / contentW);\n  }\n\n  get scrollPercent() {\n    if (!document || !document.scrollingElement) return 0;\n    const el = document.scrollingElement;\n    return el.scrollTop / el.scrollHeight;\n  }\n\n  set scrollPercent(newVal) {\n    if (!document || !document.scrollingElement) return;\n    const el = document.scrollingElement;\n    el.scrollTop = el.scrollHeight * newVal;\n  }\n}\n\nexport default Viewer;\n","/* global BINDERY_VERSION */\n\n// main\nimport PageSetup from './page-setup';\nimport { Mode, Paper, Layout, Marks } from './constants';\nimport defaultRules from './defaults';\n\n// components\nimport makeBook from './makeBook';\nimport Viewer from './viewer';\nimport rules from './rules';\nimport { validate, T } from './option-checker';\nimport { parseHTML } from './dom-utils';\n\nconst vals = obj => Object.keys(obj).map(k => obj[k]);\nconst rAF = () => new Promise((resolve) => {\n  requestAnimationFrame(t => resolve(t));\n});\n\nclass Bindery {\n  constructor(opts = {}) {\n    console.log(` Bindery ${BINDERY_VERSION}`);\n\n    if (!opts.content) {\n      this.viewer.displayError('Content not specified', 'You must include a source element, selector, or url');\n      throw Error('Bindery: You must include a source element or selector');\n    }\n    if (opts.ControlsComponent) {\n      this.viewer.displayError('Controls are now included', 'Please remove the controls component');\n      throw Error('Bindery: controls are now included');\n    }\n\n    this.autorun = opts.autorun || true;\n    this.autoupdate = opts.autoupdate || false;\n\n    validate(opts, {\n      name: 'makeBook',\n      autorun: T.bool,\n      content: T.any,\n      view: T.enum(...vals(Mode)),\n      pageNumberOffset: T.number,\n      pageSetup: T.shape({\n        name: 'pageSetup',\n        margin: T.margin,\n        size: T.size,\n      }),\n      printSetup: T.shape({\n        name: 'printSetup',\n        bleed: T.length,\n        layout: T.enum(...vals(Layout)),\n        marks: T.enum(...vals(Marks)),\n        paper: T.enum(...vals(Paper)),\n      }),\n      rules: T.array,\n    });\n\n    this.pageSetup = new PageSetup(opts.pageSetup, opts.printSetup);\n\n    const startLayout = opts.printSetup ? opts.printSetup.layout || Layout.PAGES : Layout.PAGES;\n    const startMarks = opts.printSetup ? opts.printSetup.marks || Marks.CROP : Marks.CROP;\n    this.viewer = new Viewer({\n      pageSetup: this.pageSetup,\n      mode: opts.view || Mode.PREVIEW,\n      marks: startMarks,\n      layout: startLayout,\n    });\n\n    this.rules = defaultRules;\n    this.rules.push({ pageNumberOffset: opts.pageNumberOffset || 0 });\n    if (opts.rules) this.addRules(opts.rules);\n\n    this.getContentAsElement(opts.content).then((el) => {\n      this.content = el;\n      if (el && this.autorun) this.makeBook();\n    });\n  }\n\n  // Convenience constructor\n  static makeBook(opts = {}) {\n    opts.autorun = opts.autorun ? opts.autorun : true;\n    return new Bindery(opts);\n  }\n\n  async getContentAsElement(content) {\n    if (content instanceof HTMLElement) return content;\n    if (typeof content === 'string') {\n      const el = document.querySelector(content);\n      if (!(el instanceof HTMLElement)) {\n        this.viewer.displayError('Content not specified', `Could not find element that matches selector \"${content}\"`);\n        console.error(`Bindery: Could not find element that matches selector \"${content}\"`);\n      }\n      return el;\n    }\n    if (typeof content === 'object' && content.url) {\n      return this.fetchContent(content.url, content.selector);\n    }\n    throw Error('Bindery: Source must be an element or selector');\n  }\n\n  async fetchContent(url, sel) {\n    const response = await fetch(url);\n    if (response.status !== 200) {\n      this.viewer.displayError(response.status, `Could not find file at \"${url}\"`);\n      throw Error(`Bindery: Could not find file at \"${url}\"`);\n    }\n    const fetchedContent = await response.text();\n    const el = parseHTML(fetchedContent, sel);\n    if (!(el instanceof HTMLElement)) {\n      this.viewer.displayError(\n        'Source not specified',\n        `Could not find element that matches selector \"${sel}\"`\n      );\n      throw Error(`Bindery: Could not find element that matches selector \"${sel}\"`);\n    }\n    return el;\n  }\n\n  cancel() {\n    this.viewer.hide();\n    if (this.content) this.content.style.display = '';\n  }\n\n  addRules(newRules) {\n    newRules.forEach((rule) => {\n      if (rule instanceof rules.Rule) {\n        this.rules.push(rule);\n      } else {\n        throw Error(`Bindery: The following is not an instance of Bindery.Rule and will be ignored: ${rule}`);\n      }\n    });\n  }\n\n  async makeBook() {\n    if (!this.content) {\n      this.viewer.show();\n      console.error('No content');\n      return null;\n    }\n\n    this.content.style.display = '';\n    const content = this.content.cloneNode(true);\n    this.content.style.display = 'none';\n\n    this.layoutInProgress = true;\n    this.viewer.clear(); // In case we're updating an existing layout\n    this.viewer.show();\n    this.pageSetup.updateStyleVars();\n    this.viewer.inProgress = true;\n\n    try {\n      const onProgress = (current, progress) => this.viewer.updateProgress(current, progress);\n      const book = await makeBook(content, this.rules, onProgress);\n      this.viewer.progress = 1;\n      this.layoutInProgress = false;\n      await rAF();\n      this.viewer.render(book);\n      this.viewer.inProgress = false;\n      return book;\n    } catch (e) {\n      this.layoutInProgress = false;\n      this.viewer.inProgress = false;\n      this.viewer.displayError('Layout couldn\\'t complete', e.message);\n      console.error(e);\n      return null;\n    }\n  }\n}\n\nexport default Bindery;\n","/* global BINDERY_VERSION */\nimport Bindery from './bindery';\nimport rules from './rules';\nimport { Mode, Paper, Layout, Marks } from './constants';\nimport './main.scss';\n\n\nconst BinderyWithRules = Object.assign(Bindery, rules);\nBinderyWithRules.View = Mode;\nBinderyWithRules.Paper = Paper;\nBinderyWithRules.Layout = Layout;\nBinderyWithRules.Marks = Marks;\nBinderyWithRules.version = BINDERY_VERSION;\n\nexport default BinderyWithRules;\n","import Bindery from 'Bindery';\n\nlet breakRule = Bindery.PageBreak({\n  selector: 'h2',\n  position: 'before',\n});\n\nlet spreadRule = Bindery.FullBleedSpread({\n  selector: '.big-figure',\n});\n\nBindery.makeBook({ \n  content: \".content\",\n  rules: [ breakRule, spreadRule ],\n});"]}